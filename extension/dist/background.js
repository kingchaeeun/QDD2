(()=>{var o="http://127.0.0.1:8000/api";chrome.runtime.onMessage.addListener((e,n,r)=>{if(!(!e?.type||e.type!=="qdd:analyze-quotes"))return s(e).then(t=>r({ok:!0,data:t})).catch(t=>r({ok:!1,error:String(t)})),!0});async function s(e){let n=await fetch(`${o}/analyze`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({article:e.article,quotes:e.quotes})});if(!n.ok)throw new Error(`Backend responded with ${n.status}`);return n.json()}})();
